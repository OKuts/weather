(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{66:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var r=a(19),s=a(35),c=a(11),i=a(0),n=a(34);const l=Object.freeze({SET_FILTER:"SET_FILTER",RESET_FILTER:"RESET_FILTER"}),d=Object.freeze({SET_SELECT_ID:"SET_SELECT_ID",RESET_SELECT_ID:"RESET_SELECT_ID",SET_SHOW_COMPONENTS:"SET_SHOW_COMPONENTS"}),o=Object.freeze({setFilter:e=>({type:l.SET_FILTER,payload:e}),resetFilter:()=>({type:l.RESET_FILTER})}),u=Object.freeze({setForecast:e=>({type:d.SET_SELECT_ID,payload:e})});var m=a(2);const j=()=>{const e=Object(c.b)(),t={minTemperature:"",maxTemperature:"",sky:"",isRadio:!1,isSubmittedMy:!1},{register:a,reset:r,handleSubmit:s,getValues:i,setValue:l,watch:d,formState:{isDirty:u}}=Object(n.a)({mode:"onChange",defaultValues:t}),j=s((a=>{const{maxTemperature:s,minTemperature:c,sky:n}=a;e(o.setFilter({maxTemperature:s,minTemperature:c,sky:n})),i("isSubmittedMy")?(e(o.resetFilter()),r(t)):l("isSubmittedMy",!0)})),b=e=>{i("isSubmittedMy")||(l("isRadio",!0),l("sky",e))};return Object(m.jsx)("form",{onSubmit:j,children:Object(m.jsxs)("div",{className:"filter",children:[Object(m.jsx)("span",{...a("sky"),onClick:()=>b("cloudy"),className:`checkbox ${"cloudy"===d("sky")&&"selected"}`,children:"\u041e\u0431\u043b\u0430\u0447\u043d\u043e"}),Object(m.jsx)("span",{...a("sky"),onClick:()=>b("sunny"),className:`checkbox ${"sunny"===d("sky")&&"selected"}`,children:"\u0421\u043e\u043b\u043d\u0435\u0447\u043d\u043e"}),Object(m.jsxs)("p",{className:"custom-input",children:[Object(m.jsx)("label",{htmlFor:"min-temperature",children:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430"}),Object(m.jsx)("input",{disabled:i("isSubmittedMy"),onInput:e=>l("minTemperature",e.target.value),id:"min-temperature",type:"number",...a("minTemperature")})]}),Object(m.jsxs)("p",{className:"custom-input",children:[Object(m.jsx)("label",{htmlFor:"max-temperature",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430"}),Object(m.jsx)("input",{disabled:i("isSubmittedMy"),onInput:e=>l("maxTemperature",e.target.value),id:"max-temperature",type:"number",...a("maxTemperature")})]}),Object(m.jsx)("button",{disabled:!u&&!i("isRadio"),type:"submit",children:i("isSubmittedMy")?"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c":"\u041e\u0442\u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c"})]})})};var b=a(70),p=a(72);const O=({selectedDayData:{day:e,type:t}})=>Object(m.jsxs)("div",{className:"head",children:[Object(m.jsx)("div",{className:`icon ${t}`}),Object(m.jsxs)("div",{className:"current-date",children:[Object(m.jsx)("p",{children:Object(b.a)(e,"eeee",{locale:p.a})}),Object(m.jsx)("span",{children:`${Object(b.a)(e,"d")} ${Object(b.a)(e,"MMMM",{locale:p.a})}`})]})]}),T=({selectedDayData:e})=>{const{temperature:t,rain_probability:a,humidity:r}=e;return Object(m.jsxs)("div",{className:"current-weather",children:[Object(m.jsx)("p",{className:"temperature",children:t}),Object(m.jsxs)("p",{className:"meta",children:[Object(m.jsx)("span",{className:"rainy",children:`% ${a}`}),Object(m.jsx)("span",{className:"humidity",children:`% ${r}`})]})]})},E=e=>e.filter.filterData,y=e=>e.forecast.selectDateId,h=({weatherList:e})=>{const t=Object(c.b)(),a=Object(c.c)(y),r=e.map(((e,r)=>{const{id:s,type:c}=e;return Object(m.jsxs)("div",{className:0===r&&!a||s===a?`${c} day selected`:`${c} day`,onClick:()=>(e=>{t(u.setForecast(e))})(s),children:[Object(m.jsx)("p",{children:Object(b.a)(e.day,"eeee",{locale:p.a})}),Object(m.jsx)("span",{children:e.temperature})]},s)}));return Object(m.jsx)("div",{className:"forecast",children:r})};var x=a(73),S=a(21),_=a.n(S);const f=Object.freeze({async getWeather(){const{data:e}=await _.a.get("https://lab.lectrum.io/rtx/api/forecast");return e.data}}),D=()=>{const{data:e,isFetchedAfterMount:t}=Object(x.a)("data",f.getWeather),a=Object(c.b)(),r=Object(c.c)(y),s=Object(c.c)(E),n=null===e||void 0===e?void 0:e.find((e=>e.id===r)),l=((e,{sky:t,maxTemperature:a,minTemperature:r})=>e?e.filter((e=>!(a&&e.temperature<=a)&&!(a&&e.temperature>=r)&&(!t||e.type===t))).slice(0,7):[])(e,s);return Object(i.useEffect)((()=>{l.length&&a(u.setForecast(l[0].id))}),[t,s]),Object(i.useEffect)((()=>{l[0]||a(u.setForecast(null))}),[l]),Object(m.jsxs)("main",{children:[Object(m.jsx)(j,{}),l&&r?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(O,{selectedDayData:n}),Object(m.jsx)(T,{selectedDayData:n}),Object(m.jsx)(h,{weatherList:l})]}):Object(m.jsx)("div",{className:"forecast",children:Object(m.jsx)("p",{className:"message",children:"\u041f\u043e \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u043c \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u044f\u043c \u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0434\u043d\u0435\u0439"})}),!e&&Object(m.jsx)("h1",{children:"Loading ...."})]})};a(66);const R=new(a(71).a)({defaultOptions:{queries:{queryFn:async e=>{const{queryKey:t}=e;let a=null===t||void 0===t?void 0:t[0];if(t&&(null===t||void 0===t?void 0:t.length)>1)for(const r of t.slice(1))a+=`/${r}`;return(await _.a.get(`${Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEATHER_API_URL:"https://lab.lectrum.io/rtx/api/forecast"}).REACT_APP_API_URL}/${a}`)).data},refetchOnWindowFocus:!1}}});var v=a(18);const F={filterData:{sky:"",maxTemperature:"",minTemperature:""}},N={selectDateId:null},I=Object(v.b)({filter:(e=F,t)=>{switch(t.type){case l.SET_FILTER:return{...e,filterData:{sky:t.payload.sky,maxTemperature:t.payload.maxTemperature,minTemperature:t.payload.minTemperature}};case l.RESET_FILTER:return{...e,filterData:{sky:"",maxTemperature:"",minTemperature:""}};default:return e}},forecast:(e=N,t)=>{switch(t.type){case d.SET_SELECT_ID:return{...e,selectDateId:t.payload};default:return e}}});var k=a(36);Object(k.createLogger)({duration:!0,collapsed:!0,colors:{title:e=>e.error?"firebrick":"deepskyblue",prevState:()=>"#1C5FAF",action:()=>"#149945",nextState:()=>"#A47104",error:()=>"#ff0005"}}),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;const L=v.c,g=[];const C=Object(v.d)(I,L(Object(v.a)(...g)));Object(r.render)(Object(m.jsx)(c.a,{store:C,children:Object(m.jsx)(s.a,{client:R,children:Object(m.jsx)(D,{})})}),document.getElementById("root"),(()=>{console.log("%c \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043e ","background: #00ff00; color: #000000; padding: 2.5px;")}))}},[[68,1,2]]]);
//# sourceMappingURL=main.c9dcbaf4.chunk.js.map